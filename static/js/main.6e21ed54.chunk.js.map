{"version":3,"sources":["resources/components/Header.js","resources/components/HomeContent.js","resources/components/Footer.js","resources/components/WorkPlaces.js","resources/components/WorkPlace.js","resources/components/Week.js","App.js","serviceWorker.js","index.js"],"names":["Header","props","useState","className","to","title","HomeContent","value","setValue","placeholder","onChange","e","target","type","onClick","previousSibling","AddWorkerCallback","SetTitle","workers","map","worker","key","id","pathname","name","Footer","HandleClick","history","goBack","localStorage","clear","window","location","reload","WorkPlaces","SetWorker","useEffect","t","GetWorkerById","match","params","v","AddPlaceCallback","places","place","index","WorkPlace","SetPlace","total","SetTotal","CalcTotalWeek","week","sum","days","hasOwnProperty","parseFloat","console","log","weeks","item","CalcTotalAllWeeks","p","GetWorkplaceFrom","workplace","AddWeekCallback","Week","SetWeek","HandleChange","HandleFocus","HandleBlur","Object","keys","max","min","step","onFocus","onBlur","toFixed","CalcTotal","App","saveFileName","SetWorkers","cleaned","TitleCase","Math","random","toString","substr","newPlace","w","newWeek","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai","Sunnuntai","oldWeek","Title","length","saveData","JSON","stringify","setItem","Save","loaded","getItem","parsed","parse","Load","basename","path","exact","render","str","char","split","a","i","temp","word","y","toUpperCase","push","join","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.6e21ed54.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Header(props) {\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  return (\r\n    <div className=\"Header\">\r\n      <Link to=\"/\">\r\n        <h1>{props.title}</h1>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Header from \"./Header\";\r\n\r\nfunction HomeContent(props) {\r\n  const [value, setValue] = useState(\"\");\r\n  const [workers, SetWorkers] = useState([]);\r\n\r\n  function HandleChange(e) {\r\n    setValue(e.target.value);\r\n  }\r\n\r\n  function HandleClick(e) {\r\n    e.target.previousSibling.value = \"\";\r\n    props.AddWorkerCallback(value);\r\n  }\r\n\r\n  return (\r\n    <div className=\"HomeContent\">\r\n      <div className=\"Input\">\r\n        <input\r\n          className=\"AddInput\"\r\n          placeholder=\"Lisää työntekijä\"\r\n          onChange={HandleChange}\r\n          type=\"text\"\r\n        ></input>\r\n        <button className=\"AddInputSubmit\" onClick={HandleClick}>\r\n          +\r\n        </button>\r\n      </div>\r\n      {\r\n        (props.SetTitle(\"Työntekijät\"),\r\n        props.workers.map(worker => (\r\n          <div key={worker.id} className=\"Links\">\r\n            <button className=\"HomeDeleteButton\">X</button>\r\n            <Link\r\n              className=\"LinkButton\"\r\n              to={{ pathname: `${worker.id}`, worker }}\r\n            >\r\n              {worker.name}\r\n            </Link>\r\n          </div>\r\n        )))\r\n      }\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HomeContent;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Footer(props) {\r\n  function HandleClick(e) {\r\n    if (e.target.name === \"back\") {\r\n      props.history.goBack();\r\n    } else {\r\n      localStorage.clear();\r\n      window.location.reload();\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"Footer\">\r\n      {props.location.pathname !== \"/\" ? (\r\n        <button className=\"BackButton\" name=\"back\" onClick={HandleClick}>\r\n          Back\r\n        </button>\r\n      ) : (\r\n        <button className=\"ResetButton\" name=\"reset\" onClick={HandleClick}>\r\n          Reset\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Header from \"./Header\";\r\n\r\nfunction WorkPlaces(props) {\r\n  const [value, setValue] = useState(\"\");\r\n  const [worker, SetWorker] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const t = props.GetWorkerById(props.match.params.id);\r\n    if (typeof t !== \"undefined\") {\r\n      SetWorker(t);\r\n      props.SetTitle(t.name + \" --> \");\r\n    }\r\n  });\r\n\r\n  function HandleChange(e) {\r\n    const v = e.target.value;\r\n    setValue(v);\r\n  }\r\n\r\n  function HandleClick(e) {\r\n    e.target.previousSibling.value = \"\";\r\n    props.AddPlaceCallback(value, worker);\r\n  }\r\n\r\n  return (\r\n    <div className=\"HomeContent\">\r\n      <div className=\"Input\">\r\n        <input\r\n          className=\"AddInput\"\r\n          placeholder=\"Lisää työkohde\"\r\n          onChange={HandleChange}\r\n          type=\"text\"\r\n        ></input>\r\n        <button className=\"AddInputSubmit\" onClick={HandleClick}>\r\n          +\r\n        </button>\r\n      </div>\r\n      {typeof worker.name !== \"undefined\"\r\n        ? worker.places.map((place, index) => (\r\n            <div key={worker.id + place.name} className=\"Links\">\r\n              <button className=\"HomeDeleteButton\">X</button>\r\n              <Link\r\n                className=\"LinkButton\"\r\n                to={{\r\n                  pathname: `${worker.id}/${place.name}`,\r\n                  worker: worker,\r\n                  place: place,\r\n                  index: index\r\n                }}\r\n              >\r\n                {place.name}\r\n              </Link>\r\n            </div>\r\n          ))\r\n        : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default WorkPlaces;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Header from \"./Header\";\r\n\r\nfunction WorkPlace(props) {\r\n  const [value, setValue] = useState(\"\");\r\n  const [worker, SetWorker] = useState({});\r\n  const [place, SetPlace] = useState({});\r\n  const [total, SetTotal] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const t = props.GetWorkerById(props.match.params.id);\r\n    if (typeof t !== \"undefined\") {\r\n      SetWorker(t);\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    console.log(place);\r\n    if (place.weeks !== \"undefined\") {\r\n      CalcTotalAllWeeks();\r\n    }\r\n  }, [place]);\r\n\r\n  useEffect(() => {\r\n    if (typeof worker !== \"undefined\") {\r\n      const p = props.GetWorkplaceFrom(props.match.params.workplace, worker);\r\n      if (typeof p !== \"undefined\") {\r\n        SetPlace(p);\r\n        props.SetTitle(worker.name + \" -> \" + p.name);\r\n      }\r\n    }\r\n  }, [worker]);\r\n\r\n  function HandleChange(e) {\r\n    setValue(e.target.value);\r\n  }\r\n\r\n  function HandleClick(e) {\r\n    e.target.previousSibling.value = \"\";\r\n    props.AddWeekCallback(value, place, worker);\r\n  }\r\n\r\n  function CalcTotalWeek(week) {\r\n    let sum = 0;\r\n    for (let key in week.days) {\r\n      if (week.days.hasOwnProperty(key)) {\r\n        sum = sum + parseFloat(week.days[key]);\r\n      }\r\n    }\r\n    // sum.toFixed(1)\r\n    return sum;\r\n  }\r\n\r\n  function CalcTotalAllWeeks() {\r\n    let sum = 0;\r\n    for (const item in place.weeks) {\r\n      sum = sum + CalcTotalWeek(place.weeks[item]);\r\n    }\r\n\r\n    SetTotal(sum);\r\n  }\r\n\r\n  return (\r\n    <div className=\"HomeContent\">\r\n      <div className=\"Input\">\r\n        <input\r\n          className=\"AddInput\"\r\n          placeholder=\"Lisää viikko\"\r\n          onChange={HandleChange}\r\n          type=\"text\"\r\n        ></input>\r\n        <button className=\"AddInputSubmit\" onClick={HandleClick}>\r\n          +\r\n        </button>\r\n      </div>\r\n      {typeof worker !== \"undefined\" && typeof place.weeks !== \"undefined\"\r\n        ? place.weeks.map(week => (\r\n            <div key={worker.id + place.name + week.name} className=\"Links\">\r\n              <button className=\"HomeDeleteButton\">X</button>\r\n              <Link\r\n                className=\"LinkButtonShort\"\r\n                to={{\r\n                  pathname: `${place.name}/${week.name}`,\r\n                  worker: worker,\r\n                  place: place,\r\n                  week: week\r\n                }}\r\n              >\r\n                {week.name}\r\n              </Link>\r\n              <label className=\"WeekTotalValue\">{CalcTotalWeek(week)}</label>\r\n            </div>\r\n          ))\r\n        : null}\r\n      <div>\r\n        <label className=\"Total\">Yhteensä</label>\r\n        <label className=\"TotalValue\">{total}</label>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default WorkPlace;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Header from \"./Header\";\r\n\r\nfunction Week(props) {\r\n  const [week, SetWeek] = useState(0);\r\n\r\n  useEffect(() => {\r\n    SetWeek(props.location.week);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    props.SetWeek(\r\n      props.location.worker,\r\n      props.location.place,\r\n      props.location.week,\r\n      week\r\n    );\r\n  }, [week]);\r\n\r\n  function HandleChange(e) {\r\n    if (e.target.value < 0) {\r\n      e.target.value = 0;\r\n    } else if (e.target.value > 24) {\r\n      e.target.value = 24;\r\n    }\r\n\r\n    const { name, value } = e.target;\r\n    console.log(e.target);\r\n    SetWeek({\r\n      name: props.location.week.name,\r\n      days: {\r\n        ...week.days,\r\n        [name]: value\r\n      }\r\n    });\r\n  }\r\n\r\n  function HandleClick(e) {\r\n    e.target.value = \"\";\r\n  }\r\n\r\n  function HandleFocus(e) {}\r\n\r\n  function HandleBlur(e) {}\r\n\r\n  function CalcTotal() {\r\n    let sum = 0;\r\n    for (var key in week.days) {\r\n      if (week.days.hasOwnProperty(key)) {\r\n        sum = sum + parseFloat(week.days[key]);\r\n      }\r\n    }\r\n\r\n    return sum.toFixed(1);\r\n  }\r\n\r\n  return (\r\n    <div className=\"HomeContent\">\r\n      {\r\n        (props.SetTitle(\r\n          props.location.worker.name +\r\n            \" -> \" +\r\n            props.location.place.name +\r\n            \" -> \" +\r\n            props.location.week.name\r\n        ),\r\n        typeof week.days !== \"undefined\"\r\n          ? Object.keys(week.days).map(key => (\r\n              <div key={key}>\r\n                <label className=\"Key\">{key}</label>\r\n                <input\r\n                  onChange={HandleChange}\r\n                  name={key}\r\n                  className=\"HourInput\"\r\n                  type=\"number\"\r\n                  max=\"24\"\r\n                  min=\"0\"\r\n                  step=\"0.01\"\r\n                  value={week.days[key]}\r\n                  onClick={HandleClick}\r\n                  onFocus={HandleFocus}\r\n                  onBlur={HandleBlur}\r\n                ></input>\r\n              </div>\r\n            ))\r\n          : null)\r\n      }\r\n      <div>\r\n        <label className=\"Total\">Yhteensä</label>\r\n        <label className=\"TotalValue\">{CalcTotal()}</label>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Week;\r\n","import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport Header from \"./resources/components/Header\";\nimport HomeContent from \"./resources/components/HomeContent\";\nimport Footer from \"./resources/components/Footer\";\nimport WorkPlaces from \"./resources/components/WorkPlaces\";\nimport WorkPlace from \"./resources/components/WorkPlace\";\nimport Week from \"./resources/components/Week\";\n\nfunction App() {\n  const saveFileName = \"WorkTimeAppData\";\n  const [workers, SetWorkers] = useState([]);\n  const [title, SetTitle] = useState([]);\n  let firstLoad = true;\n\n  useEffect(() => {\n    if (workers.length > 0) {\n      Save();\n    }\n  }, [workers]);\n\n  useEffect(() => {\n    Load();\n  }, []);\n\n  function Save() {\n    const saveData = JSON.stringify(workers);\n    window.localStorage.setItem(saveFileName, saveData);\n    //console.log(\"Saving... \" + saveData);\n  }\n\n  function Load() {\n    const loaded = window.localStorage.getItem(saveFileName);\n    const parsed = JSON.parse(loaded);\n    if (parsed) {\n      SetWorkers(parsed);\n      //console.log(\"Loading users...\");\n    }\n  }\n\n  function AddWorkerCallback(worker) {\n    if (!worker) return;\n    for (const item in workers) {\n      if (workers[item].name === worker) {\n        return;\n      }\n    }\n    const cleaned = TitleCase(worker);\n    const id = UniqueID();\n    const newWorker = {\n      id: id,\n      name: cleaned,\n      places: []\n    };\n\n    SetWorkers([newWorker, ...workers]);\n  }\n\n  function AddPlaceCallback(place, worker) {\n    const cleaned = TitleCase(place);\n    const newPlace = {\n      name: cleaned,\n      weeks: []\n    };\n\n    const t = {\n      ...worker,\n      places: [...worker.places, newPlace]\n    };\n\n    SetWorkers(workers.map(w => (w.name === t.name ? t : w)));\n  }\n\n  function AddWeekCallback(week, place, worker) {\n    const cleaned = TitleCase(week);\n    const newWeek = {\n      name: cleaned,\n      days: {\n        Maanantai: 0,\n        Tiistai: 0,\n        Keskiviikko: 0,\n        Torstai: 0,\n        Perjantai: 0,\n        Lauantai: 0,\n        Sunnuntai: 0\n      }\n    };\n\n    const t = {\n      id: worker.id,\n      name: worker.name,\n      places: worker.places.map(p =>\n        p.name === place.name\n          ? {\n              name: p.name,\n              weeks: [newWeek, ...p.weeks]\n            }\n          : p\n      )\n    };\n\n    SetWorkers(workers.map(w => (w.name === t.name ? t : w)));\n  }\n\n  function SetWeek(worker, place, oldWeek, newWeek) {\n    const t = {\n      id: worker.id,\n      name: worker.name,\n      places: worker.places.map(p =>\n        p.name === place.name\n          ? {\n              name: p.name,\n              weeks: p.weeks.map(w => (w.name === newWeek.name ? newWeek : w))\n            }\n          : p\n      )\n    };\n\n    SetWorkers(workers.map(w => (w.name === t.name ? t : w)));\n  }\n\n  function GetWorkerById(id) {\n    for (const item in workers) {\n      if (workers[item].id === id) {\n        return workers[item];\n      }\n    }\n  }\n\n  function GetWorkplaceFrom(name, w) {\n    for (const place in w.places) {\n      if (w.places[place].name === name) {\n        return w.places[place];\n      }\n    }\n  }\n\n  function Title(title) {\n    SetTitle(title);\n  }\n\n  return (\n    <Router basename=\"/Worktime-App\">\n      <div className=\"App\">\n        <Header title={title} />\n        <Switch>\n          <Route\n            path=\"/\"\n            exact\n            render={props => (\n              <HomeContent\n                {...props}\n                workers={workers}\n                AddWorkerCallback={AddWorkerCallback}\n                SetTitle={Title}\n                GetWorkerById={GetWorkerById}\n              />\n            )}\n          />\n          <Route\n            path=\"/:id\"\n            exact\n            render={props => (\n              <WorkPlaces\n                {...props}\n                AddPlaceCallback={AddPlaceCallback}\n                SetTitle={Title}\n                GetWorkerById={GetWorkerById}\n              />\n            )}\n          />\n          <Route\n            path=\"/:id/:workplace\"\n            exact\n            render={props => (\n              <WorkPlace\n                {...props}\n                AddWeekCallback={AddWeekCallback}\n                SetTitle={Title}\n                GetWorkerById={GetWorkerById}\n                GetWorkplaceFrom={GetWorkplaceFrom}\n              />\n            )}\n          />\n          />\n          <Route\n            path=\"/:id/:workplace/:week\"\n            exact\n            render={props => (\n              <Week {...props} SetTitle={Title} SetWeek={SetWeek} />\n            )}\n          />\n        </Switch>\n        <Route render={props => <Footer {...props} />} />\n      </div>\n    </Router>\n  );\n\n  function UniqueID() {\n    return (\n      \"_\" +\n      Math.random()\n        .toString(36)\n        .substr(2, 9)\n    );\n  }\n\n  // Capitalizes every first letter of a word in a string\n  function TitleCase(str) {\n    let split = str.split(\" \");\n    let a = [];\n    for (let i = 0; i < split.length; i++) {\n      let temp = split[i];\n      let word = \"\";\n      for (let y = 0; y < temp.length; y++) {\n        if (y === 0 && IsAlpha(temp[y])) {\n          word += temp[y].toUpperCase();\n          continue;\n        }\n\n        word += temp[y];\n      }\n\n      a.push(word);\n    }\n\n    return a.join(\" \");\n  }\n\n  // Capitalizes first letter of a string\n  function CapitalizeFirst(str) {\n    // Split the string into an array of strings\n    let splittedArray = str.split(\" \");\n    let a = [];\n\n    // Loop through all the strings in the array\n    for (let i = 0; i < splittedArray.length; i++) {\n      let currentString = splittedArray[i];\n\n      // If we are currently at the first string of the array (First word of the sentence)\n      if (i === 0) {\n        // temporary string\n        let tempString = \"\";\n\n        // Get the first letter of the string and capitalize it\n        tempString += currentString[i][0].toUpperCase();\n\n        // Loop through the string and\n        // add the rest of the letters to tempString\n        for (let y = 1; y < currentString.length; y++) {\n          tempString += currentString[y];\n        }\n\n        // Set our current string with the new (capitalized) string\n        currentString = tempString;\n      }\n\n      // Add it to the array\n      a.push(currentString);\n    }\n\n    // Combine the array into one string\n    return a.join(\" \");\n  }\n\n  // Checks if the character is an alphabetic letter (i.e not a number)\n  function IsAlpha(char) {\n    return char.length === 1 && char.match(/[a-z]/i);\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport \"./resources/css/Reset.css\";\nimport \"./resources/css/Style.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}