{"version":3,"sources":["resources/data/Config.js","resources/components/Header.js","resources/components/DeleteConfirmation.js","resources/components/HomeContent.js","resources/components/Footer.js","resources/components/WorkPlaces.js","resources/components/LinkComponent.js","resources/components/WorkPlace.js","resources/components/Week.js","App.js","serviceWorker.js","index.js"],"names":["firebaseConfig","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","Header","props","useState","className","to","title","DeleteConfirmation","HandleClick","e","target","name","SetShowPopUp","Delete","toDelete","onClick","HomeContent","value","setValue","placeholder","onChange","type","length","previousSibling","AddWorkerCallback","SetTitle","workers","map","worker","key","id","SetToDelete","user","HandleDeleteClick","pathname","showPopUp","DeleteWorker","Footer","CalcTotalWeek","week","sum","day","days","parseFloat","Object","values","CalcTotalAllActiveWeeks","places","forEach","place","weeks","CalcTotal","FormatBody","body","w","concat","table","p","d","CreateTable","location","history","goBack","CreateBackup","Firebase","database","ref","currentBuild","remove","window","reload","console","log","emailBody","newUrl","encodeURIComponent","open","WorkPlaces","SetWorker","useEffect","t","GetWorkerById","match","params","v","AddPlaceCallback","index","DeletePlace","LinkComponent","HandleArchiveClick","WorkPlace","SetPlace","SetTotal","ArchiveWeek","item","CalcTotalAllWeeks","GetWorkplaceFrom","workplace","AddWeekCallback","oldweeks","hasOwnProperty","DeleteWeek","Week","SetWeek","HandleChange","keys","HandleFocus","HandleBlur","max","min","step","onFocus","onBlur","App","SetWorkers","showPopup","backup","set","then","data","catch","err","error","cleaned","TitleCase","Math","random","toString","substr","newPlace","empty","unshift","newWeek","Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai","Sunnuntai","oldWeek","filter","Title","build","sort","a","b","localeCompare","SortPlaces","initializeApp","Config","once","snapshot","val","basename","path","exact","render","str","char","split","i","temp","word","y","toUpperCase","push","join","Boolean","hostname","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b1be2f68.chunk.js","sourcesContent":["const firebaseConfig = {\r\n  apiKey: \"AIzaSyCFcLwUq2XOtq6kk07XtjlRDovaO_T5jgM\",\r\n  authDomain: \"worktime-app-a7b0e.firebaseapp.com\",\r\n  databaseURL: \"https://worktime-app-a7b0e.firebaseio.com\",\r\n  projectId: \"worktime-app-a7b0e\",\r\n  storageBucket: \"worktime-app-a7b0e.appspot.com\",\r\n  messagingSenderId: \"726563867988\",\r\n  appId: \"1:726563867988:web:ef8a653a124bdc76f6ccc1\"\r\n};\r\n\r\nexport default firebaseConfig;","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction Header(props) {\r\n  const [value, setValue] = useState(\"\");\r\n\r\n  return (\r\n    <div className=\"Header\">\r\n      <Link to=\"/\">\r\n        <h1>{props.title}</h1>\r\n      </Link>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from \"react\";\r\n\r\nfunction DeleteConfirmation(props) {\r\n  function HandleClick(e) {\r\n    if (e.target.name === \"no\") {\r\n      props.SetShowPopUp(false);\r\n    }\r\n\r\n    if (e.target.name === \"yes\") {\r\n      props.Delete(props.toDelete);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className=\"DeleteConfirmation\">\r\n      <p className=\"DeleteConfirmationText\">\r\n        Poistetaan {props.toDelete.toDelete.name}?\r\n      </p>\r\n      <div className=\"DeleteConfirmationButtons\">\r\n        <button\r\n          className=\"DeleteConfirmationYes\"\r\n          name=\"yes\"\r\n          onClick={HandleClick}\r\n        >\r\n          Kyllä\r\n        </button>\r\n        <button\r\n          className=\"DeleteConfirmationNo\"\r\n          name=\"no\"\r\n          onClick={HandleClick}\r\n        >\r\n          Peruuta\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default DeleteConfirmation;\r\n","import React, { useState } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Header from \"./Header\";\r\nimport DeleteConfirmation from \"./DeleteConfirmation\";\r\n\r\nfunction HomeContent(props) {\r\n  const [value, setValue] = useState(\"\");\r\n  const [workers, SetWorkers] = useState([]);\r\n\r\n  function HandleChange(e) {\r\n    setValue(e.target.value);\r\n  }\r\n\r\n  function HandleClick(e) {\r\n    e.target.previousSibling.value = \"\";\r\n    props.AddWorkerCallback(value);\r\n    setValue(\"\");\r\n  }\r\n\r\n  function HandleDeleteClick(worker) {\r\n    props.SetShowPopUp(true);\r\n    props.SetToDelete({\r\n      user: worker,\r\n      toDelete: worker\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div className=\"HomeContent\">\r\n      <div className=\"Input\">\r\n        <input\r\n          className=\"AddInput\"\r\n          placeholder=\"Lisää työntekijä\"\r\n          onChange={HandleChange}\r\n          type=\"text\"\r\n        ></input>\r\n        {value.length > 0 ? (\r\n          <button className=\"AddInputSubmit\" onClick={HandleClick}>\r\n            +\r\n          </button>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n      {\r\n        (props.SetTitle(\"Työntekijät\"),\r\n        props.workers.length > 0 ? (\r\n          props.workers.map(worker => (\r\n            <div key={worker.id} className=\"Links\">\r\n              <button\r\n                onClick={() => HandleDeleteClick(worker)}\r\n                className=\"HomeDeleteButton\"\r\n                worker={worker}\r\n                id={worker.id}\r\n              >\r\n                X\r\n              </button>\r\n              <Link\r\n                className=\"LinkButton\"\r\n                to={{ pathname: `${worker.id}`, worker }}\r\n              >\r\n                {worker.name}\r\n              </Link>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <p> Ladataan tietoja...</p>\r\n        ))\r\n      }\r\n      {props.showPopUp === true ? (\r\n        <div className=\"DeleteConfirmationContainer\">\r\n          <DeleteConfirmation\r\n            showPopUp={props.showPopUp}\r\n            SetShowPopUp={props.SetShowPopUp}\r\n            toDelete={props.toDelete}\r\n            Delete={props.DeleteWorker}\r\n          />\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default HomeContent;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Firebase from \"firebase\";\r\n\r\nfunction Footer(props) {\r\n  function HandleClickBack(e) {\r\n    if (e.target.name === \"back\") {\r\n      props.history.goBack();\r\n    } else {\r\n      props.CreateBackup();\r\n      Firebase.database()\r\n        .ref(props.currentBuild)\r\n        .remove();\r\n      window.location.reload();\r\n    }\r\n  }\r\n\r\n  function CalcTotalWeek(week) {\r\n    let sum = 0;\r\n    for (let day in week.days) {\r\n      sum = sum + parseFloat(Object.values(week.days[day])[0]);\r\n    }\r\n\r\n    return sum;\r\n  }\r\n\r\n  function CalcTotalAllActiveWeeks(worker) {\r\n    let sum = 0;\r\n    if (typeof worker.places !== \"undefined\") {\r\n      worker.places.forEach(place => {\r\n        sum = sum + CalcTotal(place);\r\n      });\r\n    }\r\n\r\n    return sum;\r\n  }\r\n\r\n  function CalcTotal(place) {\r\n    if (typeof place.weeks !== \"undefined\") {\r\n      let sum = 0;\r\n      place.weeks.forEach(week => {\r\n        sum = sum + CalcTotalWeek(week);\r\n      });\r\n      // sum.toFixed(1)\r\n      return sum;\r\n    }\r\n\r\n    return 0;\r\n  }\r\n\r\n  // Linebreak  %0D%0A\r\n  // space      %20\r\n  //\r\n\r\n  function FormatBody() {\r\n    let body =\r\n      \"-------------------------------- START TUNNIT --------------------------------\\n\";\r\n\r\n    props.workers.forEach(w => {\r\n      body = body.concat(CreateTable(w));\r\n      body = body.concat(\"\\n\\nKaikki Yht: \" + CalcTotalAllActiveWeeks(w));\r\n    });\r\n    body = body.concat(\r\n      \"\\n\\n\\n\\n-------------------------------- END TUNNIT --------------------------------\"\r\n    );\r\n    return body;\r\n  }\r\n\r\n  function CreateTable(worker) {\r\n    let table = \"\\n\\n\\n\\n\" + worker.name + \"\\n\";\r\n    table = table.concat(\"\\t\\t\\t\\t\\tMA\\tTI\\tKE\\tTO\\tPE\\tLA\\tSU\\tYHT\");\r\n    worker.places.forEach(p => {\r\n      if (p.name.length > 15) {\r\n        table = table.concat(\"\\f\" + p.name + \"\\t\\t\\t\");\r\n      } else if (p.name.length < 5) {\r\n        table = table.concat(\"\\f\" + p.name + \"\\t\\t\\t\\t\\t\");\r\n      } else {\r\n        table = table.concat(\"\\f\" + p.name + \"\\t\\t\\t\\t\");\r\n      }\r\n      p.weeks.forEach(w => {\r\n        if (typeof w !== \"undefined\") {\r\n          w.days.forEach(d => {\r\n            table = table.concat(Object.values(d)[0] + \"\\t\");\r\n          });\r\n          table = table.concat(CalcTotalWeek(w) + \"\\t\\t\" + w.name);\r\n        }\r\n      });\r\n    });\r\n\r\n    return table;\r\n  }\r\n\r\n  function HandleClickEmail(e) {\r\n    console.log(\"Opening mail...\");\r\n\r\n    const emailTo = \"Helin.pool@gmail.com\";\r\n    const emailSubject = \"Tunnit\";\r\n    const emailBody = FormatBody();\r\n\r\n    const newUrl =\r\n      \"mailto:\" +\r\n      encodeURIComponent(emailTo) +\r\n      \"?subject=\" +\r\n      encodeURIComponent(emailSubject) +\r\n      \"&body=\" +\r\n      encodeURIComponent(emailBody);\r\n    // \"https://mail.google.com/mail?view=cm&tf=0\" +\r\n    // (emailTo ? \"&to=\" + emailTo : \"\") +\r\n    // (emailSubject ? \"&su=\" + emailSubject : \"\") +\r\n    // (emailBody ? \"&body=\" + emailBody : \"\");\r\n\r\n    console.log(emailBody);\r\n    window.open(newUrl);\r\n  }\r\n\r\n  return (\r\n    <div className=\"Footer\">\r\n      {props.location.pathname !== \"/\" ? (\r\n        <button className=\"BackButton\" name=\"back\" onClick={HandleClickBack}>\r\n          Back\r\n        </button>\r\n      ) : (\r\n        \"\"\r\n      )}\r\n\r\n      <button className=\"MailButton\" onClick={HandleClickEmail}>\r\n        Mail\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Header from \"./Header\";\r\nimport DeleteConfirmation from \"./DeleteConfirmation\";\r\n\r\nfunction WorkPlaces(props) {\r\n  const [value, setValue] = useState(\"\");\r\n  const [worker, SetWorker] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const t = props.GetWorkerById(props.match.params.id);\r\n    if (typeof t !== \"undefined\") {\r\n      SetWorker(t);\r\n      props.SetTitle(t.name + \" --> \");\r\n    }\r\n  });\r\n\r\n  function HandleChange(e) {\r\n    const v = e.target.value;\r\n    setValue(v);\r\n  }\r\n\r\n  function HandleClick(e) {\r\n    e.target.previousSibling.value = \"\";\r\n    props.AddPlaceCallback(value, worker);\r\n    setValue(\"\");\r\n  }\r\n\r\n  function HandleDeleteClick(place, worker) {\r\n    props.SetShowPopUp(true);\r\n    props.SetToDelete({\r\n      user: worker,\r\n      toDelete: place\r\n    });\r\n  }\r\n\r\n  function CalcTotal(place) {\r\n    if (typeof place.weeks !== \"undefined\") {\r\n      let sum = 0;\r\n      place.weeks.forEach(week => {\r\n        sum = sum + CalcTotalWeek(week);\r\n      });\r\n      // sum.toFixed(1)\r\n      return sum;\r\n    }\r\n\r\n    return 0;\r\n  }\r\n\r\n  function CalcTotalWeek(week) {\r\n    let sum = 0;\r\n    for (let day in week.days) {\r\n      sum = sum + parseFloat(Object.values(week.days[day])[0]);\r\n    }\r\n    // sum.toFixed(1)\r\n    return sum;\r\n  }\r\n\r\n  function CalcTotalAllActiveWeeks() {\r\n    let sum = 0;\r\n    if (typeof worker.places !== \"undefined\") {\r\n      worker.places.forEach(place => {\r\n        sum = sum + CalcTotal(place);\r\n      });\r\n    }\r\n\r\n    return sum;\r\n  }\r\n\r\n  return (\r\n    <div className=\"HomeContent\">\r\n      <div className=\"Input\">\r\n        <input\r\n          className=\"AddInput\"\r\n          placeholder=\"Lisää työkohde\"\r\n          onChange={HandleChange}\r\n          type=\"text\"\r\n        ></input>\r\n        {value.length > 0 ? (\r\n          <button className=\"AddInputSubmit\" onClick={HandleClick}>\r\n            +\r\n          </button>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n      {typeof worker.places !== \"undefined\"\r\n        ? worker.places.map((place, index) => (\r\n            <div key={worker.id + place.name} className=\"Links\">\r\n              <button\r\n                onClick={() => HandleDeleteClick(place, worker)}\r\n                className=\"HomeDeleteButton\"\r\n              >\r\n                X\r\n              </button>\r\n              <Link\r\n                className=\"LinkButtonShort\"\r\n                to={{\r\n                  pathname: `${worker.id}/${place.name}`,\r\n                  worker: worker,\r\n                  place: place,\r\n                  index: index\r\n                }}\r\n              >\r\n                {place.name}\r\n              </Link>\r\n              <label className=\"WeekTotalValue\">{CalcTotal(place)}</label>\r\n            </div>\r\n          ))\r\n        : null}\r\n      <div>\r\n        <label className=\"TotalWeek\">Aktiiviset Viikot Yhteensä</label>\r\n        <label className=\"TotalValue\">{CalcTotalAllActiveWeeks()}</label>\r\n      </div>\r\n      {props.showPopUp === true ? (\r\n        <div className=\"DeleteConfirmationContainer\">\r\n          <DeleteConfirmation\r\n            showPopUp={props.showPopUp}\r\n            SetShowPopUp={props.SetShowPopUp}\r\n            toDelete={props.toDelete}\r\n            Delete={props.DeletePlace}\r\n          />\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default WorkPlaces;\r\n","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nfunction LinkComponent(props) {\r\n  let className = \"LinkButtonShortest\";\r\n\r\n  if (props.week.type === \"oldweek\") {\r\n    className = \"LinkButtonShort\";\r\n  }\r\n\r\n  return (\r\n    <div className=\"Links\">\r\n      <button\r\n        onClick={() => props.HandleDeleteClick(props.week)}\r\n        className=\"HomeDeleteButton\"\r\n      >\r\n        X\r\n      </button>\r\n      {props.week.type !== \"oldweek\" ? (\r\n        <button\r\n          onClick={() => props.HandleArchiveClick(props.week)}\r\n          className=\"Archive\"\r\n        >\r\n          A\r\n        </button>\r\n      ) : null}\r\n      <Link\r\n        className={className}\r\n        to={{\r\n          pathname: `${props.place.name}/${props.week.name}`,\r\n          worker: props.worker,\r\n          place: props.place,\r\n          week: props.week\r\n        }}\r\n      >\r\n        {props.week.name}\r\n      </Link>\r\n      <label className=\"WeekTotalValue\">\r\n        {props.CalcTotalWeek(props.week)}\r\n      </label>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LinkComponent;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Header from \"./Header\";\r\nimport DeleteConfirmation from \"./DeleteConfirmation\";\r\nimport LinkComponent from \"./LinkComponent\";\r\n\r\nfunction WorkPlace(props) {\r\n  const [value, setValue] = useState(\"\");\r\n  const [worker, SetWorker] = useState({});\r\n  const [place, SetPlace] = useState({});\r\n  const [total, SetTotal] = useState(0);\r\n\r\n  useEffect(() => {\r\n    const t = props.GetWorkerById(props.match.params.id);\r\n    if (typeof t !== \"undefined\") {\r\n      SetWorker(t);\r\n    }\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (place.weeks !== \"undefined\") {\r\n      CalcTotalAllWeeks();\r\n    }\r\n  }, [place]);\r\n\r\n  useEffect(() => {\r\n    if (typeof worker !== \"undefined\") {\r\n      const p = props.GetWorkplaceFrom(props.match.params.workplace, worker);\r\n      if (typeof p !== \"undefined\") {\r\n        SetPlace(p);\r\n        props.SetTitle(worker.name + \" -> \" + p.name);\r\n      }\r\n    }\r\n  }, [worker]);\r\n\r\n  function HandleChange(e) {\r\n    setValue(e.target.value);\r\n  }\r\n\r\n  function HandleInputOnClick(e) {\r\n    e.target.value = \"Viikko \";\r\n  }\r\n\r\n  function HandleClick(e) {\r\n    e.target.previousSibling.value = \"\";\r\n    props.AddWeekCallback(value, place, worker);\r\n    setValue(\"\");\r\n  }\r\n\r\n  function CalcTotalWeek(week) {\r\n    let sum = 0;\r\n    for (let day in week.days) {\r\n      sum = sum + parseFloat(Object.values(week.days[day])[0]);\r\n    }\r\n\r\n    return sum;\r\n  }\r\n\r\n  function CalcTotalAllWeeks() {\r\n    let sum = 0;\r\n    for (const item in place.weeks) {\r\n      sum = sum + CalcTotalWeek(place.weeks[item]);\r\n    }\r\n\r\n    SetTotal(sum);\r\n  }\r\n\r\n  function HandleDeleteClick(week) {\r\n    props.SetShowPopUp(true);\r\n    props.SetToDelete({\r\n      user: worker,\r\n      place: place,\r\n      toDelete: week\r\n    });\r\n  }\r\n\r\n  function HandleArchiveClick(week) {\r\n    props.ArchiveWeek(worker, place, week);\r\n  }\r\n\r\n  return (\r\n    <div className=\"HomeContent\">\r\n      <div className=\"Input\">\r\n        <input\r\n          className=\"AddInput\"\r\n          placeholder=\"Lisää viikko\"\r\n          onChange={HandleChange}\r\n          onClick={HandleInputOnClick}\r\n          type=\"text\"\r\n        ></input>\r\n        {value.length > 0 ? (\r\n          <button className=\"AddInputSubmit\" onClick={HandleClick}>\r\n            +\r\n          </button>\r\n        ) : (\r\n          \"\"\r\n        )}\r\n      </div>\r\n      <label className=\"WeeksLabelActive\">Aktiiviset Viikot</label>\r\n      {typeof worker !== \"undefined\" && typeof place.weeks !== \"undefined\"\r\n        ? place.weeks.map(week => (\r\n            <LinkComponent\r\n              worker={worker}\r\n              week={week}\r\n              place={place}\r\n              HandleDeleteClick={HandleDeleteClick}\r\n              HandleArchiveClick={HandleArchiveClick}\r\n              CalcTotalWeek={CalcTotalWeek}\r\n            />\r\n          ))\r\n        : null}\r\n      <div>\r\n        <label className=\"WeeksLabelOld\">Arkistoidut Viikot</label>\r\n      </div>\r\n      {typeof worker !== \"undefined\" && typeof place.oldweeks !== \"undefined\"\r\n        ? place.oldweeks.map(week =>\r\n            !Object.hasOwnProperty(week, \"empty\") ? (\r\n              <LinkComponent\r\n                worker={worker}\r\n                place={place}\r\n                week={week}\r\n                HandleDeleteClick={HandleDeleteClick}\r\n                HandleArchiveClick={HandleArchiveClick}\r\n                CalcTotalWeek={CalcTotalWeek}\r\n              />\r\n            ) : null\r\n          )\r\n        : console.log(\"test false\")}\r\n      {props.showPopUp === true ? (\r\n        <div className=\"DeleteConfirmationContainer\">\r\n          <DeleteConfirmation\r\n            showPopUp={props.showPopUp}\r\n            SetShowPopUp={props.SetShowPopUp}\r\n            toDelete={props.toDelete}\r\n            Delete={props.DeleteWeek}\r\n          />\r\n        </div>\r\n      ) : null}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default WorkPlace;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport Header from \"./Header\";\r\n\r\nfunction Week(props) {\r\n  const [week, SetWeek] = useState([]);\r\n\r\n  useEffect(() => {\r\n    SetWeek(props.location.week);\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (props.location.week.type === \"oldweek\") return;\r\n    props.SetWeek(\r\n      props.location.worker,\r\n      props.location.place,\r\n      props.location.week,\r\n      week\r\n    );\r\n  }, [week]);\r\n\r\n  function HandleChange(e) {\r\n    if (props.location.week.type === \"oldweek\") return;\r\n    if (e.target.value < 0) {\r\n      e.target.value = 0;\r\n    } else if (e.target.value > 24) {\r\n      e.target.value = 24;\r\n    }\r\n\r\n    const { name, value } = e.target;\r\n\r\n    console.log(name);\r\n    SetWeek({\r\n      name: props.location.week.name,\r\n      type: week.type,\r\n      days: week.days.map(day =>\r\n        Object.keys(day)[0] !== name ? day : { [name]: value }\r\n      )\r\n    });\r\n  }\r\n\r\n  function HandleClick(e) {\r\n    if (props.location.week.type === \"oldweek\") return;\r\n    e.target.value = \"\";\r\n  }\r\n\r\n  function HandleFocus(e) {}\r\n\r\n  function HandleBlur(e) {\r\n    if (e.target.value === \"\") {\r\n      e.target.value = 0;\r\n    }\r\n  }\r\n\r\n  function CalcTotal() {\r\n    let sum = 0;\r\n    for (const day in week.days) {\r\n      console.log(Object.values(day)[0]);\r\n      sum = sum + parseFloat(Object.values(week.days[day])[0]);\r\n    }\r\n    return sum;\r\n  }\r\n\r\n  return (\r\n    <div className=\"HomeContent\">\r\n      {\r\n        (props.SetTitle(\r\n          props.location.worker.name +\r\n            \" -> \" +\r\n            props.location.place.name +\r\n            \" -> \" +\r\n            props.location.week.name\r\n        ),\r\n        typeof week.days !== \"undefined\"\r\n          ? week.days.map(day => (\r\n              <div key={Object.keys(day)[0]}>\r\n                <label className=\"Key\">{Object.keys(day)[0]}</label>\r\n                <input\r\n                  onChange={HandleChange}\r\n                  name={Object.keys(day)[0]}\r\n                  className=\"HourInput\"\r\n                  type=\"number\"\r\n                  max=\"24\"\r\n                  min=\"0\"\r\n                  step=\"0.01\"\r\n                  value={Object.values(day)[0]}\r\n                  onClick={HandleClick}\r\n                  onFocus={HandleFocus}\r\n                  onBlur={HandleBlur}\r\n                ></input>\r\n              </div>\r\n            ))\r\n          : null)\r\n      }\r\n      <div>\r\n        <label className=\"TotalWeek\">Yhteensä</label>\r\n        <label className=\"TotalValue\">{CalcTotal()}</label>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Week;\r\n","import React, { useState, useEffect } from \"react\";\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\nimport Firebase from \"firebase\";\nimport Config from \"./resources/data/Config\";\n\nimport Header from \"./resources/components/Header\";\nimport HomeContent from \"./resources/components/HomeContent\";\nimport Footer from \"./resources/components/Footer\";\nimport WorkPlaces from \"./resources/components/WorkPlaces\";\nimport WorkPlace from \"./resources/components/WorkPlace\";\nimport Week from \"./resources/components/Week\";\n\nfunction App() {\n  const [workers, SetWorkers] = useState([]);\n  const [title, SetTitle] = useState([]);\n  const [showPopup, SetShowPopUp] = useState(false);\n  const [toDelete, SetToDelete] = useState({});\n\n  const backup = \"/backup\";\n  const testBuild = \"/test\";\n  const releaseBuild = \"/workers\";\n\n  const currentBuild = testBuild;\n\n  useEffect(() => {\n    if (workers.length > 0) {\n      Save(currentBuild);\n    }\n  }, [workers]);\n\n  useEffect(() => {\n    Firebase.initializeApp(Config);\n    Load(currentBuild);\n  }, []);\n\n  function SaveTestBuildToProduction() {}\n\n  function Save(build) {\n    SortPlaces(workers);\n    Firebase.database()\n      .ref(build)\n      .set(workers)\n      .then(data => console.log(\"Success\"))\n      .catch(err => console.error(err));\n    // const saveData = JSON.stringify(workers);\n    // window.localStorage.setItem(saveFileName, saveData);\n    console.log(\"Saving to firebase!\");\n  }\n\n  function Load(build) {\n    Firebase.database()\n      .ref(build)\n      .once(\"value\", function(snapshot) {\n        if (snapshot.val() !== null) {\n          SetWorkers(\n            snapshot.val().sort((a, b) => a.name.localeCompare(b.name))\n          );\n        } else {\n          console.log(\"Data is null\");\n        }\n      });\n    // const loaded = window.localStorage.getItem(saveFileName);\n    // const parsed = JSON.parse(loaded);\n    // if (parsed) {\n    //   SetWorkers(parsed);\n    //console.log(\"Loading users...\");\n  }\n\n  function CreateBackup() {\n    Firebase.database()\n      .ref(backup)\n      .set(workers)\n      .then(data => console.log(\"Success\"))\n      .catch(err => console.error(err));\n    // const saveData = JSON.stringify(workers);\n    // window.localStorage.setItem(saveFileName, saveData);\n    console.log(\"Saving backup to firebase!\");\n  }\n\n  function SortPlaces(workers) {\n    workers.forEach(w => {\n      w.places.sort((a, b) => a.name.localeCompare(b.name));\n    });\n  }\n\n  function AddWorkerCallback(worker) {\n    if (!worker) return;\n    for (const item in workers) {\n      if (workers[item].name === worker) {\n        return;\n      }\n    }\n    const cleaned = TitleCase(worker);\n    const id = UniqueID();\n    const newWorker = {\n      id: id,\n      type: \"worker\",\n      name: cleaned,\n      places: []\n    };\n\n    SetWorkers([newWorker, ...workers]);\n  }\n\n  function AddPlaceCallback(place, worker) {\n    const cleaned = TitleCase(place);\n    const newPlace = {\n      name: cleaned,\n      type: \"place\",\n      weeks: [{ empty: null }],\n      oldweeks: [{ empty: null }]\n    };\n\n    const t = {\n      ...worker,\n      places: typeof worker.places !== \"undefined\" ? worker.places : []\n    };\n\n    t.places.unshift(newPlace);\n\n    SetWorkers(workers.map(w => (w.name === t.name ? t : w)));\n  }\n\n  function AddWeekCallback(week, place, worker) {\n    const cleaned = TitleCase(week);\n    const newWeek = {\n      name: cleaned,\n      type: \"week\",\n      days: [\n        { Maanantai: 0 },\n        { Tiistai: 0 },\n        { Keskiviikko: 0 },\n        { Torstai: 0 },\n        { Perjantai: 0 },\n        { Lauantai: 0 },\n        { Sunnuntai: 0 }\n      ]\n    };\n\n    const t = {\n      id: worker.id,\n      name: worker.name,\n      places: worker.places.map(p =>\n        p.name === place.name\n          ? {\n              name: p.name,\n              weeks:\n                typeof p.weeks !== \"undefined\"\n                  ? [newWeek, ...p.weeks]\n                  : [newWeek],\n              oldweeks: []\n            }\n          : p\n      )\n    };\n\n    SetWorkers(workers.map(w => (w.name === t.name ? t : w)));\n  }\n\n  function SetWeek(worker, place, oldWeek, newWeek) {\n    const t = {\n      id: worker.id,\n      name: worker.name,\n      places: worker.places.map(p =>\n        p.name === place.name\n          ? {\n              name: p.name,\n              weeks: p.weeks.map(w => (w.name === newWeek.name ? newWeek : w)),\n              oldweeks: typeof p.oldweeks !== \"undefined\" ? p.oldweeks : []\n            }\n          : p\n      )\n    };\n\n    SetWorkers(workers.map(w => (w.name === t.name ? t : w)));\n  }\n\n  function empty() {}\n\n  function ArchiveWeek(worker, place, week) {\n    const t = {\n      id: worker.id,\n      name: worker.name,\n      places: worker.places.map(p =>\n        p.name === place.name\n          ? {\n              name: p.name,\n              weeks: p.weeks.filter(w => w.name !== week.name),\n              oldweeks:\n                typeof p.oldweeks !== \"undefined\"\n                  ? [\n                      { name: week.name, type: \"oldweek\", days: week.days },\n                      ...p.oldweeks\n                    ]\n                  : [{ name: week.name, type: \"oldweek\", days: week.days }]\n            }\n          : p\n      )\n    };\n\n    SetWorkers(workers.map(w => (w.name === t.name ? t : w)));\n  }\n\n  function GetWorkerById(id) {\n    for (const item in workers) {\n      if (workers[item].id === id) {\n        return workers[item];\n      }\n    }\n  }\n\n  function GetWorkplaceFrom(name, w) {\n    for (const place in w.places) {\n      if (w.places[place].name === name) {\n        return w.places[place];\n      }\n    }\n  }\n\n  function DeleteWorker(data) {\n    SetWorkers(workers.filter(w => w.name !== data.toDelete.name));\n    SetShowPopUp(false);\n  }\n\n  function DeletePlace(data) {\n    SetWorkers(\n      workers.map(w => {\n        if (w.name === data.user.name) {\n          w.places = w.places.filter(p => p.name !== data.toDelete.name);\n        }\n\n        return w;\n      })\n    );\n\n    SetShowPopUp(false);\n  }\n\n  function DeleteWeek(data) {\n    data.toDelete.type === \"week\"\n      ? SetWorkers(\n          workers.map(w => {\n            if (w.name === data.user.name) {\n              w.places.map(p => {\n                if (p.name === data.place.name) {\n                  p.weeks = p.weeks.filter(v => v.name !== data.toDelete.name);\n                }\n              });\n            }\n\n            return w;\n          })\n        )\n      : SetWorkers(\n          workers.map(w => {\n            if (w.name === data.user.name) {\n              w.places.map(p => {\n                if (p.name === data.place.name) {\n                  p.oldweeks = p.oldweeks.filter(\n                    v => v.name !== data.toDelete.name\n                  );\n                }\n              });\n            }\n\n            return w;\n          })\n        );\n\n    SetShowPopUp(false);\n  }\n\n  function Title(title) {\n    SetTitle(title);\n  }\n\n  return (\n    <Router basename=\"/Worktime-App\">\n      <div className=\"App\">\n        <Header title={title} />\n        <Switch>\n          <Route\n            path=\"/\"\n            exact\n            render={props => (\n              <HomeContent\n                {...props}\n                workers={workers}\n                AddWorkerCallback={AddWorkerCallback}\n                SetTitle={Title}\n                GetWorkerById={GetWorkerById}\n                showPopUp={showPopup}\n                SetShowPopUp={SetShowPopUp}\n                toDelete={toDelete}\n                SetToDelete={SetToDelete}\n                DeleteWorker={DeleteWorker}\n              />\n            )}\n          />\n          <Route\n            path=\"/:id\"\n            exact\n            render={props => (\n              <WorkPlaces\n                {...props}\n                AddPlaceCallback={AddPlaceCallback}\n                SetTitle={Title}\n                GetWorkerById={GetWorkerById}\n                showPopUp={showPopup}\n                SetShowPopUp={SetShowPopUp}\n                toDelete={toDelete}\n                SetToDelete={SetToDelete}\n                DeletePlace={DeletePlace}\n              />\n            )}\n          />\n          <Route\n            path=\"/:id/:workplace\"\n            exact\n            render={props => (\n              <WorkPlace\n                {...props}\n                AddWeekCallback={AddWeekCallback}\n                ArchiveWeek={ArchiveWeek}\n                SetTitle={Title}\n                GetWorkerById={GetWorkerById}\n                GetWorkplaceFrom={GetWorkplaceFrom}\n                showPopUp={showPopup}\n                SetShowPopUp={SetShowPopUp}\n                toDelete={toDelete}\n                SetToDelete={SetToDelete}\n                DeleteWorker={DeleteWorker}\n                DeleteWeek={DeleteWeek}\n              />\n            )}\n          />\n          />\n          <Route\n            path=\"/:id/:workplace/:week\"\n            exact\n            render={props => (\n              <Week {...props} SetTitle={Title} SetWeek={SetWeek} />\n            )}\n          />\n        </Switch>\n        <Route\n          render={props => (\n            <Footer\n              {...props}\n              CreateBackup={CreateBackup}\n              build={currentBuild}\n              workers={workers}\n            />\n          )}\n        />\n      </div>\n    </Router>\n  );\n\n  function UniqueID() {\n    return (\n      \"_\" +\n      Math.random()\n        .toString(36)\n        .substr(2, 9)\n    );\n  }\n\n  // Capitalizes every first letter of a word in a string\n  function TitleCase(str) {\n    let split = str.split(\" \");\n    let a = [];\n    for (let i = 0; i < split.length; i++) {\n      let temp = split[i];\n      let word = \"\";\n      for (let y = 0; y < temp.length; y++) {\n        if (y === 0 && IsAlpha(temp[y])) {\n          word += temp[y].toUpperCase();\n          continue;\n        }\n\n        word += temp[y];\n      }\n\n      a.push(word);\n    }\n\n    return a.join(\" \");\n  }\n\n  // Capitalizes first letter of a string\n  function CapitalizeFirst(str) {\n    // Split the string into an array of strings\n    let splittedArray = str.split(\" \");\n    let a = [];\n\n    // Loop through all the strings in the array\n    for (let i = 0; i < splittedArray.length; i++) {\n      let currentString = splittedArray[i];\n\n      // If we are currently at the first string of the array (First word of the sentence)\n      if (i === 0) {\n        // temporary string\n        let tempString = \"\";\n\n        // Get the first letter of the string and capitalize it\n        tempString += currentString[i][0].toUpperCase();\n\n        // Loop through the string and\n        // add the rest of the letters to tempString\n        for (let y = 1; y < currentString.length; y++) {\n          tempString += currentString[y];\n        }\n\n        // Set our current string with the new (capitalized) string\n        currentString = tempString;\n      }\n\n      // Add it to the array\n      a.push(currentString);\n    }\n\n    // Combine the array into one string\n    return a.join(\" \");\n  }\n\n  // Checks if the character is an alphabetic letter (i.e not a number)\n  function IsAlpha(char) {\n    return char.length === 1 && char.match(/[a-z]/i);\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nimport \"./resources/css/Reset.css\";\nimport \"./resources/css/Style.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}